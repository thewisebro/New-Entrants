{% extends "placement/base.html" %}

{% block app_content %}
<h3> Insert results for {{ company.name }}</h3>
<hr>
{% if student_list %}
<form method="POST">
  {% csrf_token %}
  <table class="sortable table table-striped table-bordered table-condensed" id="t1">
    <tr class="even">
      <th class="lefttopcurve">S.No.</th>
      <th>Select</th>
      <th>Name</th>
      <th>Discipline</th>
      <th class="righttopcurve">Course</th>
    </tr>
    {% for plac_person in student_list %}
    <tr class="{% cycle 'odd' 'even' %} {% if forloop.last %}lastline{% endif %}">
      <td {% if forloop.last %}class="leftbottomcurve"{% endif %}>{{ forloop.counter }}</td>
      <td><input type="checkbox" name="selected_students" value="{{ plac_person.id }}"/></td>
      <td>{{ plac_person.student.user.name }}</td>
      <td>{{ plac_person.student.branch.name }}</td>
      <td {% if forloop.last %}class="rightbottomcurve"{% endif %}>
        {{ plac_person.student.get_semester_display }}
      </td>
    </tr>
    {% endfor %}
  </table>
  <div class="submit_button">
    <input type="submit" class="btn btn-primary" value="Insert"/>
  </div>
</form>
{% else  %}{% if branches %}
<table class="sortable table table-striped table-bordered table-condensed" id="t1">
  <tr class="even">
    <th class="lefttopcurve">S.No.</th>
    <th>Name</th>
    <th>Insert</th>
  </tr>
  {% for branch in branches %}
  <tr class="{% cycle 'odd' 'even' %} {% if forloop.last %}lastline{% endif %}">
    <td {% if forloop.last %}class="leftbottomcurve"{% endif %}>{{ forloop.counter }}</td>
    <td class="leftalign">{{ branch.name }}</td>
    <td><a href="{% url 'placement.views_results.insert' company_id=company.id branch_code=branch.code %}">Insert</a></td>
  </tr>
  {% endfor %}
</table>
{% else %}
No student has been verified for the selected branch !
{% endif %} {% endif %}
{% endblock %}
