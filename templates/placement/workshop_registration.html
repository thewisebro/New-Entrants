{% extends "placement/base.html" %}
{% block app_content %}

{% if error_msg %}
{{ error_msg }}
{% endif %}


{% if title %}
<h3>{{ title }}</h3>
<hr/>
{% endif %}

{% if editable_warning %}
<p class="editable_warning">{{ editable_warning }}</p>
{% endif %}
<p>All students are requested to fill this workshop registration form. The form is compulsory for all the verified students to fill. A student can chose any one of the 4 available companies after reading their details and cost. If a student wishes to opt for more than one company he/she should come to the Placement Office to enrol for the additional company. The option chosen will be final and the student needs to compulsorily attend the respective workshop when it will be organised.</p>
<p>However, a student can also chose "not interested" option if he/she is not interested to attend any of the available workshops but should mention an appropriate reason.</p>
<p>A student can change his/her option if he/she wishes before the deadline. The tab will be available on the Placement Online homepage. Kindly help us in creating a healthy database.</p>
<p><b>Deadline: 14th September, 2 pm</b></p>
<hr>
<table class="sortable table table-striped table-bordered table-condensed" id="t1">
  <thead>
    <tr>
      <th>S. No.</th>
      <th>Workshop Company</th>
      <th>Details</th>
      <th>Cost (apprx)</th>
      <th>Brochure/Website</th>
    </tr>
  </thead>
  <tbody>

  <tr>
    <td>1</td>
    <td>Smart India</td>
    <td><a style='cursor: pointer;' onclick=open_frame('Smart&nbsp;India','/placement/workshop_registration_details/?q=SI',800,370)>Details</a></td>
    <td>Rs. 700-1000</td>
    <td><a href='{{ STATIC_URL }}placement/workshop_brochures/SI.pdf'>Brochure</a></td>
  </tr>
  <tr>
    <td>2</td>
    <td>4P Education</td>
    <td><a style='cursor: pointer;' onclick=open_frame('4P&nbsp;Education','/placement/workshop_registration_details/?q=4E',800,1100)>Details</a></td>
    <td>Rs. 900-1300</td>
    <td><a href='{{ STATIC_URL }}placement/workshop_brochures/4E.pdf'>Brochure</a></td>
  </tr>
  <tr>
    <td>3</td>
    <td>Talerang</td>
    <td><a style='cursor: pointer;' onclick=open_frame('Talerang','/placement/workshop_registration_details/?q=TA',500,209)>Details</a></td>
    <td>Rs. 700-1000</td>
    <td><a href='http://www.talerang.com/'>Website</a></td>
  </tr>
  <tr>
    <td>4</td>
    <td>Ethnus Consultancy Service</td>
    <td><a style='cursor: pointer;' onclick=open_frame('Ethnus&nbsp;Consultance&nbsp;Service','/placement/workshop_registration_details/?q=ECS',500,230)>Details</a></td>
    <td>Rs. 700-1000</td>
    <td><a href='{{ STATIC_URL }}placement/workshop_brochures/ECS.pdf'>Brochure</a></td>
  </tr>

  </tbody>
</table>
{% include "placement/generic_form.html" with action=action form=form name=name isFormSet=isFormSet %}

{% endblock %}

{% block app_scripts %}
<script>

function dialog_iframe(data){
    var $dialog;
    try {
        $dialog = eval(data.name);
    }catch(e){}

    if(!$dialog){
      var height,margin;
      var related_window_height = $(window).height();
      related_window_height -= (1-data.height/related_window_height)*150;
      if(related_window_height > data.height){
        height = data.height;
        margin = (related_window_height-height)/2;
      }
      else{
        margin = 50;
        height = $(window).height()-2*margin;
      }
      $('body').append("<div id='"+data.name+"-div'></div>");
      dialog_options = {
        autoOpen: false,
        dialogClass: 'dialog-class',
        title: data.title,
        position: ['center',margin],
        width: data.width,
        height: height,
        draggable: false,
        resizable: false,
        sticky: true,
        close: function(event, ui){
          eval('delete '+data.name);
          $('#'+data.name+'-div').remove();
          },
        open: function(event, ui){
          $('#'+data.name+'-div').html(""+
            "<iframe id='"+data.name+"-iframe' src='"+data.src+
            "' width='"+(data.width-25)+"' height='"+(height-55)+"' frameborder=0></iframe>"
          );
        }
      };
      if('close' in data)
        dialog_options.beforeClose = data.close;
      $dialog = $('#'+data.name+'-div')
                .html('<p>Loading...</p>')
                .dialog(dialog_options);
    }
    $('.dialog-class').css({position:'fixed'});
    $dialog.dialog('open');
    eval(data.name+'=$dialog;');
    current_dialog = $dialog;
}

function open_frame(company_name,url,width,height){
    dialog_iframe({
    name: 'company_details_dialog',
    title: company_name,
    width: width,
    height: height,
    src: url,
    });
}

function close_dialog(dialog_name){
  eval(dialog_name).dialog('close');
  current_dialog = null;
}
</script>

{% if workshop_registration_jquery %}
<script type="text/javascript" src="{{ STATIC_URL }}js/placement/workshop_registration.js"></script>
{% endif %}
{% endblock %}

